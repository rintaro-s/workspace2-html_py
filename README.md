# サークル管理プラットフォーム

高機能なサークル・組織管理プラットフォームです。複数のサークルを管理し、チャット、フォーラム、ホワイトボード、Wiki、プロジェクト管理、予算管理など、様々な機能を提供します。

## 主な機能

- **認証システム** - ユーザーログイン・登録
- **マルチサークル管理** - 複数のサークルを一元管理
- **チャット・フォーラム** - リアルタイムメッセージング
- **ホワイトボード** - 共同作業用の描画ツール
- **Wiki** - 知識ベース管理
- **プロジェクト管理** - タスク管理とプロジェクト追跡
- **カレンダー** - イベント管理
- **予算管理** - 財務管理
- **物品管理** - インベントリ管理
- **メンバー管理** - ユーザー管理と権限設定
- **アルバム** - 写真共有
- **日記** - 共有日記機能
- **アンケート** - 調査・投票機能

## 技術スタック

- **フロントエンド**: HTML5, CSS3, JavaScript (ES6+)
- **UIフレームワーク**: Tailwind CSS
- **アイコン**: Lucide Icons
- **描画ライブラリ**: Fabric.js (ホワイトボード機能)
- **バックエンド**: Python 3.10, Flask
- **データベース**: SQLite
- **コンテナ**: Docker

## 起動方法

### Docker を使用した起動（推奨）

1. リポジトリをクローン:
   ```bash
   git clone <repository-url>
   cd workspace2-html_py
   ```

2. Dockerコンテナを起動:
   ```bash
   docker-compose up -d
   ```

3. ブラウザで `http://localhost:8060` にアクセス

### 開発環境での起動

1. 依存関係をインストール:
   ```bash
   pip install -r requirements.txt
   ```

2. アプリケーションを起動:
   ```bash
   python app.py
   ```

3. ブラウザで `http://localhost:8060` にアクセス

## 使用方法

1. **初回アクセス**: 新規ユーザー登録またはログイン
2. **サークル作成**: 「+」ボタンから新しいサークルを作成
3. **機能利用**: 左側のサイドバーから使用したい機能を選択
4. **コンテンツ作成**: 各機能内で新しいコンテンツを作成・管理

## ポート設定

- **Webアプリケーション**: 8060番ポート
- **Docker**: ホスト側の8060番ポートをコンテナの8060番ポートにマッピング

## データ永続化

- SQLiteデータベースは `./data/` ディレクトリに保存されます
- Dockerコンテナを再起動してもデータは保持されます

## 開発

### ファイル構成
```
├── app.py              # Flaskアプリケーション（メインサーバー）
├── index.html          # フロントエンドUI
├── requirements.txt    # Python依存パッケージ
├── Dockerfile         # Dockerイメージ設定
├── docker-compose.yml # Docker Compose設定
├── data/              # データベースファイル保存ディレクトリ
└── README.md          # このファイル
```

### API エンドポイント

すべてのAPI通信は `/api.cgi` エンドポイントを通じて行われます：

- `POST /api.cgi` - すべてのアクション（action パラメータに基づいて処理）
  - `login` - ユーザーログイン
  - `register` - ユーザー登録
  - `logout` - ログアウト
  - `checkSession` - セッション確認
  - `addServer` - サークル作成
  - `addSubItem` - チャンネル/スレッド追加
  - `postMessage` - メッセージ投稿
  - `createSurvey` - アンケート作成
  - `createProject` - プロジェクト作成
  - その他多数...

## セキュリティ

- パスワードはハッシュ化して保存
- セッション管理によるユーザー認証
- CSRF保護（Flask標準機能）

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
